<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <title>CMS Blue Button&reg; API Developer Documentation</title>
    <!-- Update the link path to where your stylesheet file is located. For example: /path/to/your/assets/css/lib/uswds.min.css -->
    <link rel="stylesheet" href="css/uswds.css">
    <link rel="shortcut icon" href="img/favicons/favicon-57.png" type="image/x-icon">
  </head>
  <body>
  <a class="usa-skipnav" href="#main-content">Skip to main content</a>
  <header class="usa-header usa-header-basic" role="banner">
    <!-- Gov banner BEGIN -->
    <div class="usa-banner">
      <div class="usa-accordion">
        <header class="usa-banner-header">
          <div class="usa-grid usa-banner-inner">
          <img src="img/favicons/favicon-57.png" alt="U.S. flag">
          <!--
          <p>An official website of the United States government</p>
          <button class="usa-accordion-button usa-banner-button"
            aria-expanded="false" aria-controls="gov-banner">
            <span class="usa-banner-button-text">Here's how you know</span>
          </button>
        -->
          </div>
        </header>
        <div class="usa-banner-content usa-grid usa-accordion-content" id="gov-banner">
          <div class="usa-banner-guidance-gov usa-width-one-half">
            <img class="usa-banner-icon usa-media_block-img" src="/assets/img/icon-dot-gov.svg" alt="Dot gov">
            <div class="usa-media_block-body">
              <p>
                <strong>The .gov means it’s official.</strong>
                <br>
                Federal government websites always use a .gov or .mil domain. Before sharing sensitive information online, make sure you’re on a .gov or .mil site by inspecting your browser’s address (or “location”) bar.
              </p>
            </div>
          </div>
          <div class="usa-banner-guidance-ssl usa-width-one-half">
            <img class="usa-banner-icon usa-media_block-img" src="/assets/img/icon-https.svg" alt="SSL">
            <div class="usa-media_block-body">
              <p>This site is also protected by an SSL (Secure Sockets Layer) certificate that’s been signed by the U.S. government. The <strong>https://</strong> means all transmitted data is encrypted  — in other words, any information or browsing history that you provide is transmitted securely.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Gov banner END -->

  <div class="usa-overlay"></div>
  <main class="usa-grid usa-section usa-content usa-layout-docs" id="main-content">

    <aside class="usa-width-one-fourth usa-layout-docs-sidenav">
      <ul class="usa-sidenav-list">
        <li>
          <a class="usa-current" href="javascript:void(0);">CMS Blue Button API</a>
        </li>
        <li>
          <a href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">Developer Preview</a>
        </li>
        <li>
          <a href="#try-it-out">Try the API</a>
        </li>
        <li>
          <a href="https://dev.bluebutton.cms.fhirservice.net/devdocs/">Interactive Documentation</a>
        </li>
        <li>
          <a href="https://groups.google.com/forum/#!forum/developer-group-for-cms-blue-button-api">Support</a>
        </li>
      </ul>
    </aside>

    <div class="usa-width-three-fourths usa-layout-docs-main_content">
      <h1> <img src="img/bluebutton-logo-2013.jpg" alt="BlueButton logo" height="75" width="75"> CMS Blue Button<sup>&reg;</sup> API</h1>
      <p class="usa-font-lead">
        The Centers for Medicare and Medicaid Services (CMS) Blue Button API is a developer-friendly,
        standards-based, data API that will enable Medicare beneficiaries to connect
        their Medicare claims data to the applications, services, and research programs they trust.
      </p>

      <p>
        The CMS Blue Button API will:</p>
      <ul>
        <li>Allow an app developer to register a beneficiary-facing application via the <a href="http://oauth.net/2">OAuth2</a>
        delegation standard.</li>

        <li>Enable a beneficiary to grant an app access to three years of Part A, B, and D claims
        information. This information is accessed as protected resources via the
        <a href="http://oauth.net/2">OAuth2</a> delegation standard.</li>

        <li>Use the <a href="https://www.hl7.org/fhir/">HL7 FHIR</a><sup>&reg;</sup> standard as a format for beneficiary information.</li>
      </ul>


      <h2 id="section-heading-h2">Join the Developer Preview</h2>

      <p>CMS is inviting developers to provide feedback on a prototype of the new CMS Blue Button API
      for the purpose of improved development. Participants in the Developer Preview can build
      integrations with their software using synthetic claims data.</p>

      <p><a class="usa-button usa-button" href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">Sign Up for the Developer Preview</a></p>

      <h3 id="section-heading-h3">Using the API</h3>
      <p>During the Developer Preview, you will be able to query a sandbox environment populated with
      synthetic beneficiary claims data.</p>

      <p>
        Here's what you can do:
        <ul>
          <li>Retrieve a Patient by ID
          <li>Retrieve all Explanation of Benefit records for a Patient by ID
          <li>Retrieve Patient coverage by ID
        </ul>
      </p>

      <p><b>Base Request URL:</b></p>
      <pre><code>https://dev.bluebutton.cms.fhirservice.net</code></pre>

      <p><b>Authorization:</b></p>
      <p>The authorization and token URL endpoints implement vanilla <a href="https://oauth.net/2/">OAuth2</a>.</p>
      <pre><code>HTTP  GET /o/authorize </code> </pre>
      <pre><code>HTTP  POST /o/token </code> </pre>

      <p><b>API Endpoints:</b></p>
      <p>
        <ul>
          <li><a href="#get-user-profile-openid-connect">Get User Profile from an Authorization Token</a></li>
          <li><a href="#get-eob">Get all Explanation of Benefit records for an Individual Beneficiary</a></li>
          <li><a href="#get-patient">Get all Patient Records for an Individual Beneficiary</a></li>
           <li><a href="#get-coverage">Get all Coverage information for an Individual Beneficiary</a></li>
        </ul>
      </p>

      <p>If the _format option is omitted, then JSON is returned by default.</p>

      <p>As a security measure the date of birth, SSN, and HICN will not be provided by the
      CMS Blue Button API.</p>

      <a name="get-user-profile-openid-connect"></a>
      <h3 id="section-heading-h3">Get User Profile for an Authorization Token</h3>

      <pre><code>HTTP GET /connect/userinfo </code></pre>

      <p>The above URL fetches the synthetic beneficiary's basic account information given an Authorization Token.
      This is most often used when creating an account within your application.
      An HTTP GET is called and the response is returned as JSON.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN" "https://dev.bluebutton.cms.fhirservice.net/connect/userinfo" </code></pre>

      <pre>
        <code>
        {
          "sub": "fflinstone",
          "prefered_username": "fflinstone",
          "given_name": "Fred",
          "family_name:, "Flinstone,
          "name": "Fred Flinstone",
          "email": "pebbles-daddy@example.com",
          "created": "2017-11-28",
          "patient": "123456789",
        }
        </code>
      </pre>

      <a name="get-eob"></a>
      <h3 id="section-heading-h3">Get all Explanation Of Benefit records for an Individual Beneficiary</h3>

      <pre><code>/protected/bluebutton/fhir/v1/ExplanationOfBenefit/?patient=[fhir_id][_format=json | _format=xml]</code></pre>

      <p>The above URL returns all of the synthetic beneficiary's Explanation of Benefit (sometimes referred to as an episode of care) records as an
      <a href="http://hl7.org/fhir/explanationofbenefit.html">ExplanationOfBenefit FHIR Resource</a>.
      The bulk of a beneficiary's data is contained within these ExplanationOfBenefit FHIR resources.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN"  "https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/ExplanationOfBenefit/?patient=20140000008325"</code></pre>

      <pre>
        <code>
        {
          "resourceType": "ExplanationOfBenefit",
          "id": "EB3500",
          "text": {
            "status": "generated",
            "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">A human-readable rendering of the ExplanationOfBenefit</div>"
          },
          "identifier": [
            {
              "system": "http://www.BenefitsInc.com/fhir/explanationofbenefit",
              "value": "987654321"
            }
          ],
          "status": "active",
          "type": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ex-claimtype",
                "code": "oral"
              }
            ]
          },
          "patient": {
            "reference": "Patient/pat1"
          },
          "created": "2014-08-16",
          "organization": {
            "reference": "Organization/2"
          },
          "claim": {
            "reference": "Claim/100150"
          },
          "claimResponse": {
            "reference": "ClaimResponse/R3500"
          },
          "outcome": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/remittance-outcome",
                "code": "complete"
              }
            ]
          },
          "disposition": "Claim settled as per contract.",
          "careTeam": [
            {
              "sequence": 1,
              "provider": {
                "reference": "Practitioner/example"
              }
            }
          ],
          "insurance": {
            "coverage": {
              "reference": "Coverage/9876B1"
            }
          },
          "item": [
            {
              "sequence": 1,
              "careTeamLinkId": [
                1
              ],
              "service": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/service-uscls",
                    "code": "1200"
                  }
                ]
              },
              "servicedDate": "2014-08-16",
              "unitPrice": {
                "value": 135.57,
                "system": "urn:iso:std:iso:4217",
                "code": "USD"
              },
              "net": {
                "value": 135.57,
                "system": "urn:iso:std:iso:4217",
                "code": "USD"
              },
              "adjudication": [
                {
                  "category": {
                    "coding": [
                      {
                        "code": "eligible"
                      }
                    ]
                  },
                  "amount": {
                    "value": 120.00,
                    "system": "urn:iso:std:iso:4217",
                    "code": "USD"
                  }
                },
                {
                  "category": {
                    "coding": [
                      {
                        "code": "eligpercent"
                      }
                    ]
                  },
                  "value": 0.80
                },
                {
                  "category": {
                    "coding": [
                      {
                        "code": "benefit"
                      }
                    ]
                  },
                  "amount": {
                    "value": 96.00,
                    "system": "urn:iso:std:iso:4217",
                    "code": "USD"
                  }
                }
              ]
            }
          ],
          "totalCost": {
            "value": 135.57,
            "system": "urn:iso:std:iso:4217",
            "code": "USD"
          },
          "totalBenefit": {
            "value": 96.00,
            "system": "urn:iso:std:iso:4217",
            "code": "USD"
          }
        }
        </code>
      </pre>

      <a name="get-patient"></a>
      <h3 id="section-heading-h3">Get all Patient Records for an Individual Beneficiary</h3>

      <pre><code>HTTP GET /protected/bluebutton/fhir/v1/Patient/[fhir_id][?_format=json | ?_format=xml]</code></pre>

      <p>The above URL returns the synthetic beneficiary's personal health information as a <a href="https://www.hl7.org/fhir/patient.html">Patient FHIR Resource</a>.  This information is mostly contact information, not medical data.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN"  "https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Patient/20140000008325"</code></pre>

      <pre><code>
        {
          "resourceType": "Patient",
          "id": "example",
          "text": {
            "status": "generated",
            "div": " ... a HTML table of contact info will display here ..."
          },
          "identifier": [
            {
              "use": "usual",
              "type": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/v2/0203",
                    "code": "MR"
                  }
                ]
              },
              "system": "urn:oid:1.2.36.146.595.217.0.1",
              "value": "12345",
              "period": {
                "start": "2001-05-06"
              },
              "assigner": {
                "display": "Acme Healthcare"
              }
            }
          ],
          "active": true,
          "name": [
            {
              "use": "official",
              "family": "Chalmers",
              "given": [
                "Peter",
                "James"
              ]
            },
            {
              "use": "usual",
              "given": [
                "Jim"
              ]
            }
          ],
          "telecom": [
            {
              "use": "home"
            },
            {
              "system": "phone",
              "value": "(03) 5555 6473",
              "use": "work"
            }
          ],
          "gender": "male",
          "birthDate": "1974-12-25",
          "_birthDate": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/patient-birthTime",
                "valueDateTime": "1974-12-25T14:35:45-05:00"
              }
            ]
          },
          "deceasedBoolean": false,
          "address": [
            {
              "use": "home",
              "type": "both",
              "line": [
                "534 Erewhon St"
              ],
              "city": "PleasantVille",
              "district": "Rainbow",
              "state": "Vic",
              "postalCode": "3999",
              "period": {
                "start": "1974-12-25"
              }
            }
          ],
          "contact": [
            {
              "relationship": [
                {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/patient-contact-relationship",
                      "code": "partner"
                    }
                  ]
                }
              ],
              "name": {
                "family": "du Marché",
                "_family": {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/humanname-own-fix",
                      "valueString": "VV"
                    }
                  ]
                },
                "given": [
                  "Bénédicte"
                ]
              },
              "telecom": [
                {
                  "system": "phone",
                  "value": "+33 (237) 998327"
                }
              ],
              "address": {
                "use": "home",
                "type": "both",
                "line": [
                  "534 Erewhon St"
                ],
                "city": "PleasantVille",
                "district": "Rainbow",
                "state": "Vic",
                "postalCode": "3999",
                "period": {
                  "start": "1974-12-25"
                }
              },
              "gender": "female",
              "period": {
                "start": "2012"
              }
            }
          ],
          "managingOrganization": {
            "reference": "Organization/1"
          }
        }
        </code>
      </pre>

      <a name="get-coverage"></a>
      <h3 id="section-heading-h3">Get all Coverage Information for an Individual Beneficiary</h3>

      <pre><code>/protected/bluebutton/fhir/v1/Coverage/?patient=[fhir_id][_format=json | _format=xml]</code></pre>


      <p>The above URL returns the synthetic beneficiary's coverage information as an <a href="http://hl7.org/fhir/explanationofbenefit.html">ExplanationOfBenefit FHIR Resource</a>.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN"  "https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Coverage/?patient=20140000008325"</code></pre>

      <pre><code>
        {
          "resourceType": "Coverage",
          "id": "9876B1",
          "text": {
            "status": "generated",
            "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">A human-readable rendering of the coverage</div>"
          },
          "identifier": [
            {
              "system": "http://benefitsinc.com/certificate",
              "value": "12345"
            }
          ],
          "status": "active",
          "type": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/v3/ActCode",
                "code": "EHCPOL",
                "display": "extended healthcare"
              }
            ]
          },
          "policyHolder": {
            "reference": "http://benefitsinc.com/FHIR/Organization/CBI35"
          },
          "subscriber": {
            "reference": "Patient/4"
          },
          "beneficiary": {
            "reference": "Patient/4"
          },
          "relationship": {
            "coding": [
              {
                "code": "self"
              }
            ]
          },
          "period": {
            "start": "2011-05-23",
            "end": "2012-05-23"
          },
          "payor": [
            {
              "reference": "Organization/2"
            }
          ],
          "grouping": {
            "group": "CBI35",
            "groupDisplay": "Corporate Baker's Inc. Local #35",
            "subGroup": "123",
            "subGroupDisplay": "Trainee Part-time Benefits",
            "plan": "B37FC",
            "planDisplay": "Full Coverage: Medical, Dental, Pharmacy, Vision, EHC",
            "subPlan": "P7",
            "subPlanDisplay": "Includes afterlife benefits",
            "class": "SILVER",
            "classDisplay": "Silver: Family Plan spouse only",
            "subClass": "Tier2",
            "subClassDisplay": "Low deductable, max $20 copay"
          },
          "dependent": "0",
          "sequence": "9"
        }</code></pre>

      <!--
      <h3 id="section-heading-h3">Sample Client Application:</h3>
      <p>The CMS Blue Button Sample Client Application demonstrates how to
        authenticate to the Blue Button API and make subsequent FHIR API calls. It uses the OAuth2 confidential flow.</p>
      <p><a href="https://github.com/CMSgov/bluebutton-sample-client-django">Download Blue Button Sample Client (Django)</a></p>
      -->

      <a name="try-it-out"></a>
      <h3 id="section-heading-h3">Try the API</h3>
      <p>
      To test out the Blue Button API, you must first generate a sample token that represents a Beneficiary granting consent.  </p>

      <ol>
        <li><a href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">Join the Developer Preview</a></li>
        <li>Register your application</li>
        <li>Generate a sample token</li>
        <li>Call the API</li>
      </ol>

      <P>
      You can generate an access token for synthetic Patient 20140000008325 and sample Application <i>TestApp</i> by following these steps:
    </p>

    <ol>
      <li>Click <a target="_new" href="https://dev.bluebutton.cms.fhirservice.net/testclient/">here</a> to begin</li>
      <li>Click "sample Authorization flow"</li>
      <li>Click the link to authorize.  This will start the authorization flow to TestApp</li>
      <li>Login to your Blue Button Developer Preview Account  (click <a target="_new" href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">here</a> if you need to Join the Developer Preview)</li>
      <li>Agree to the Personal Health Information Sharing disclaimer (sample)</li>
      <li>Review the App Endorsements and click to accept risks (sample)</li>
      <li>Review the permissions TestApp is asking for and approve (sample)</li>
      <li>You will see a JSON document containing your access token and other information</li>
    </ol>

    <pre><code>curl --header "Authorization: Bearer YOUR TOKEN HERE" https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Patient/20140000008325</code></pre>

    <p>
      <b>To try this out in Postman:</b>
    </p>
    <ol>
      <li>From Postman, open a new tab</li>
      <li>Paste the Request URL: https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Patient/20140000008325</li>
      <li>Click "Authorization" and select type "Bearer Token"</li>
      <li>Locate the "access_token" value from your JSON document. Ex: "access_token": "Sb9npoXXXXXXXXXXCQP8JK4tR"</li>
      <li>Paste the access_token value into the "Token" field</li>
      <li>Click "Preview Request" and see a success message "Request headers were successfully updated with authorization data for preview."</li>
      <li>Click "Send" and see the synthetic beneficiary's personal health information as a Patient FHIR Resource display under "Body" in Postman.</li>
    </ol>
    <p>
      In the response, you will find:
    </p>
    <ul>
      <li>32 total claims (140 total claim lines)</li>
      <li>25 carrier claims (110 carrier claim lines)</li>
      <li>2 inpatient claims (25 inpatient claim lines)</li>
      <li>5 Part D events</li>
    </ul>

      <h3 id="section-heading-h3">Support</h3>
      <p> The CMS Blue Button API Google Group is where you can interact with other developers to ask questions, find answers,
          leave feedback, and share experiences using the CMS Blue Button API.</p>
      <p><a href="https://groups.google.com/forum/#!forum/developer-group-for-cms-blue-button-api">Visit the Google Group</a></p>

  </main>

  <footer class="usa-footer usa-footer-medium" role="contentinfo">
    <div class="usa-grid usa-footer-return-to-top">
      <a href="#">Return to top</a>
    </div>
  </footer>

  <script src="js/uswds.min.js"></script>

  </body>
</html>

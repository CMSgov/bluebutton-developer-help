<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>CMS Blue Button API Developer Documentation</title>
    <link rel="stylesheet" href="css/uswds.css">
    <link rel="shortcut icon" href="img/favicons/favicon-57.png" type="image/x-icon">
  </head>
  <body>

  <main class="usa-grid usa-section usa-content usa-layout-docs" id="main-content">

    <aside class="usa-width-one-fourth usa-layout-docs-sidenav">
      <ul class="usa-sidenav-list">
        <li>
          <a class="usa-current" href="javascript:void(0);">CMS Blue Button API</a>
        </li>
        <li>
          <a href="#Developer-preview">Developer Preview</a>
        </li>
        <li>
          <a href="#try-it-out">Try the API</a>
        </li>
        <li>
          <a href="#resources">Core Resources</a>
        </li>
        <li>
          <a href="#support">Support</a>
        </li>
      </ul>
    </aside>

    <div class="usa-width-three-fourths usa-layout-docs-main_content">
      <h1> <img src="img/bluebutton-logo-2013.jpg" alt="BlueButton logo" height="75" width="75"> CMS Blue Button<sup>&reg;</sup> API</h1>
      <p class="usa-font-lead">
        The Centers for Medicare and Medicaid Services (CMS) Blue Button API enables Medicare Beneficiaries to connect
        their Medicare claims data to the applications, services, and research programs they trust.
      </p>

      <p>
        The CMS Blue Button API:
      </p>
      <ul>
        <li>Enables a Developer to register a Beneficiary-facing application</li>
        <li>Enables a Beneficiary to grant an application access to four years of their Part A, B, and D claimsdata </li>
        <li>Uses the <a href="https://www.hl7.org/fhir/">HL7 FHIR</a> standard for Beneficiary data and the <a href="http://oauth.net/2">OAuth 2.0</a> standard for Beneficiary authorization
      </ul>

      <a name="Developer-preview"></a>
      <h2 id="section-heading-h2">Join the Developer Preview</h2>

      <p>CMS is inviting Developers to provide feedback on the new CMS Blue Button API
      for the purpose of improved development.</p>

      <p><a class="usa-button usa-button" href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">Sign Up for the Developer Preview</a></p>

      <p>Participants in the Developer Preview can build integrations with their software using synthetic claims data.</p>

      <a name="try-it-out"></a>

      <h2 id="section-heading-h2">Try the API</h2>

      <p>During the Developer Preview, you will be able to query a sandbox environment populated with
      synthetic Beneficiary claims data.</p>

      <p>
        Here's what you can do:
        <ul>
          <li>Retrieve a Patient by ID
          <li>Retrieve all Explanation of Benefit records for a Patient by ID
          <li>Retrieve Patient coverage by ID
        </ul>
      </p>

      <p>To join the Developer Preview, register a sample application and retrieve synthetic data for a sample Patient ID by calling the API, follow these four steps:</p>
      <p>
        <b>Step 1:</b> Join the Developer Preview and register a sample application
      </p>
      <ul>
        <li><a href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">Join the Developer Preview</a> to access the Developer Dashboard</li>
        <li>Click "Application Registration" to register a new sample application and get a Client ID and Secret</li>
      </ul>
      <p>
        <b>Step 2:</b> Generate a sample token
      </p>
      <p>
        To test out the Blue Button API, you must first generate a sample token that represents a Beneficiary granting consent.
      </p>
      <p>
        You can generate an access token for synthetic Patient 20140000008325 and sample Application <i>TestApp</i> by following these steps:
      </p>

    <ol>
      <li>Click <a target="_new" href="https://dev.bluebutton.cms.fhirservice.net/testclient/">here</a> to begin</li>
      <li>Click "sample Authorization flow"</li>
      <li>Click the link to authorize.  This will start the authorization flow to <i>TestApp</i></li>
      <li>Login to your Blue Button Developer Preview Account  (click <a target="_new" href="https://dev.bluebutton.cms.fhirservice.net/accounts/request-invite">here</a> if you need to Join the Developer Preview)</li>
      <li>Agree to the Personal Health Information Sharing disclaimer (sample)</li>
      <li>Review the App Endorsements and click to accept risks (sample)</li>
      <li>Review the permissions <i>TestApp</i> is asking for and approve (sample)</li>
      <li>You will see a JSON document containing your access token and other information</li>
    </ol>

    <p>You can now use your access token wherever "YOUR TOKEN HERE" is referenced below.</p>

    <p><b>Step 3:</b> Call the API</b></p>

    <pre><code>curl --header "Authorization: Bearer YOUR TOKEN HERE" https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Patient/20140000008325</code></pre>

    <p>
      Or, try this out in Postman:
    </p>
    <ol>
      <li>From Postman, open a new tab</li>
      <li>Paste the Request URL: https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Patient/20140000008325</li>
      <li>Click "Authorization", select type "Bearer Token" and paste your token in the Token field</li>
      <li>Click "Preview Request" and see a success message "Request headers were successfully updated with authorization data for preview."</li>
      <li>Click "Send" and see the synthetic Beneficiary's personal health information as a Patient FHIR Resource display under "Body" in Postman.</li>
    </ol>

    <p><b>Step 4:</b> View the API response</b></p>
    <p>
      In the API response for Patient 20140000008325 you will find:
    </p>
    <ul>
      <li>32 total claims (140 total claim lines)</li>
      <li>25 carrier claims (110 carrier claim lines)</li>
      <li>2 inpatient claims (25 inpatient claim lines)</li>
      <li>5 Part D events</li>
    </ul>

      <a name="resources"></a>
      <h2 id="section-heading-h2">Core Resources</h2>

      <p><b>Base Request URL:</b></p>
      <pre><code>https://dev.bluebutton.cms.fhirservice.net</code></pre>

      <p><b>Authorization:</b></p>
      <p>The authorization and token URL endpoints implement <a href="https://oauth.net/2/">OAuth 2.0</a>.</p>
      <pre><code>HTTP  GET /o/authorize </code> </pre>
      <pre><code>HTTP  POST /o/token </code> </pre>

      <p><b>Resources:</b></p>
      <p>
        <ul>
          <li><a href="#get-user-profile-openid-connect">Get User Profile from an Authorization Token</a></li>
          <li><a href="#get-eob">Get all Explanation of Benefit records for an Individual Beneficiary</a></li>
          <li><a href="#get-patient">Get all Patient Records for an Individual Beneficiary</a></li>
           <li><a href="#get-coverage">Get all Coverage information for an Individual Beneficiary</a></li>
        </ul>
      </p>

      <p>If the _format option is omitted, then JSON is returned by default.</p>

      <p>As a security measure the date of birth, SSN, and HICN will not be provided by the CMS Blue Button API.</p>

      <p>We use <a href="https://www.hl7.org/fhir/extensibility.html#Extension">FHIR Extensions</a> in our API responses.</p>

      <p><a href="https://dev.bluebutton.cms.fhirservice.net/devdocs/">View Interactive Documentation (Swagger)</a>

      <a name="get-user-profile-openid-connect"></a>
      <h3 id="section-heading-h3">Get User Profile for an Authorization Token</h3>

      <pre><code>HTTP GET /connect/userinfo </code></pre>

      <p>The above URL fetches the synthetic Beneficiary's basic account information given an Authorization Token.
      This is most often used when creating an account within your application.
      An HTTP GET is called and the response is returned as JSON.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN" "https://dev.bluebutton.cms.fhirservice.net/connect/userinfo" </code></pre>

      <pre>
        <code>
        {
          "sub": "fflinstone",
          "prefered_username": "fflinstone",
          "given_name": "Fred",
          "family_name:, "Flinstone,
          "name": "Fred Flinstone",
          "email": "pebbles-daddy@example.com",
          "created": "2017-11-28",
          "patient": "123456789",
        }
        </code>
      </pre>

      <a name="get-eob"></a>
      <h3 id="section-heading-h3">Get all Explanation Of Benefit records for an Individual Beneficiary</h3>

      <pre><code>/protected/bluebutton/fhir/v1/ExplanationOfBenefit/?patient=[fhir_id][_format=json | _format=xml]</code></pre>

      <p>The above URL returns all of the synthetic Beneficiary's Explanation of Benefit (sometimes referred to as an episode of care) records as an
      <a href="http://hl7.org/fhir/explanationofbenefit.html">ExplanationOfBenefit FHIR Resource</a>.
      The bulk of a Beneficiary's data is contained within these ExplanationOfBenefit FHIR resources.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN"  "https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/ExplanationOfBenefit/?patient=20140000008325"</code></pre>

      <pre>
        <code>
        {
          "resourceType": "ExplanationOfBenefit",
          "id": "EB3500",
          "text": {
            "status": "generated",
            "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">A human-readable rendering of the ExplanationOfBenefit</div>"
          },
          "identifier": [
            {
              "system": "http://www.BenefitsInc.com/fhir/explanationofbenefit",
              "value": "987654321"
            }
          ],
          "status": "active",
          "type": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/ex-claimtype",
                "code": "oral"
              }
            ]
          },
          "patient": {
            "reference": "Patient/pat1"
          },
          "created": "2014-08-16",
          "organization": {
            "reference": "Organization/2"
          },
          "claim": {
            "reference": "Claim/100150"
          },
          "claimResponse": {
            "reference": "ClaimResponse/R3500"
          },
          "outcome": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/remittance-outcome",
                "code": "complete"
              }
            ]
          },
          "disposition": "Claim settled as per contract.",
          "careTeam": [
            {
              "sequence": 1,
              "provider": {
                "reference": "Practitioner/example"
              }
            }
          ],
          "insurance": {
            "coverage": {
              "reference": "Coverage/9876B1"
            }
          },
          "item": [
            {
              "sequence": 1,
              "careTeamLinkId": [
                1
              ],
              "service": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/service-uscls",
                    "code": "1200"
                  }
                ]
              },
              "servicedDate": "2014-08-16",
              "unitPrice": {
                "value": 135.57,
                "system": "urn:iso:std:iso:4217",
                "code": "USD"
              },
              "net": {
                "value": 135.57,
                "system": "urn:iso:std:iso:4217",
                "code": "USD"
              },
              "adjudication": [
                {
                  "category": {
                    "coding": [
                      {
                        "code": "eligible"
                      }
                    ]
                  },
                  "amount": {
                    "value": 120.00,
                    "system": "urn:iso:std:iso:4217",
                    "code": "USD"
                  }
                },
                {
                  "category": {
                    "coding": [
                      {
                        "code": "eligpercent"
                      }
                    ]
                  },
                  "value": 0.80
                },
                {
                  "category": {
                    "coding": [
                      {
                        "code": "benefit"
                      }
                    ]
                  },
                  "amount": {
                    "value": 96.00,
                    "system": "urn:iso:std:iso:4217",
                    "code": "USD"
                  }
                }
              ]
            }
          ],
          "totalCost": {
            "value": 135.57,
            "system": "urn:iso:std:iso:4217",
            "code": "USD"
          },
          "totalBenefit": {
            "value": 96.00,
            "system": "urn:iso:std:iso:4217",
            "code": "USD"
          }
        }
        </code>
      </pre>

      <a name="get-patient"></a>
      <h3 id="section-heading-h3">Get all Patient Records for an Individual Beneficiary</h3>

      <pre><code>HTTP GET /protected/bluebutton/fhir/v1/Patient/[fhir_id][?_format=json | ?_format=xml]</code></pre>

      <p>The above URL returns the synthetic Beneficiary's personal health information as a <a href="https://www.hl7.org/fhir/patient.html">Patient FHIR Resource</a>.  This information is mostly contact information, not medical data.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN"  "https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Patient/20140000008325"</code></pre>

      <pre><code>
        {
          "resourceType": "Patient",
          "id": "example",
          "text": {
            "status": "generated",
            "div": " ... a HTML table of contact info will display here ..."
          },
          "identifier": [
            {
              "use": "usual",
              "type": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/v2/0203",
                    "code": "MR"
                  }
                ]
              },
              "system": "urn:oid:1.2.36.146.595.217.0.1",
              "value": "12345",
              "period": {
                "start": "2001-05-06"
              },
              "assigner": {
                "display": "Acme Healthcare"
              }
            }
          ],
          "active": true,
          "name": [
            {
              "use": "official",
              "family": "Chalmers",
              "given": [
                "Peter",
                "James"
              ]
            },
            {
              "use": "usual",
              "given": [
                "Jim"
              ]
            }
          ],
          "telecom": [
            {
              "use": "home"
            },
            {
              "system": "phone",
              "value": "(03) 5555 6473",
              "use": "work"
            }
          ],
          "gender": "male",
          "birthDate": "1974-12-25",
          "_birthDate": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/patient-birthTime",
                "valueDateTime": "1974-12-25T14:35:45-05:00"
              }
            ]
          },
          "deceasedBoolean": false,
          "address": [
            {
              "use": "home",
              "type": "both",
              "line": [
                "534 Erewhon St"
              ],
              "city": "PleasantVille",
              "district": "Rainbow",
              "state": "Vic",
              "postalCode": "3999",
              "period": {
                "start": "1974-12-25"
              }
            }
          ],
          "contact": [
            {
              "relationship": [
                {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/patient-contact-relationship",
                      "code": "partner"
                    }
                  ]
                }
              ],
              "name": {
                "family": "du Marché",
                "_family": {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/humanname-own-fix",
                      "valueString": "VV"
                    }
                  ]
                },
                "given": [
                  "Bénédicte"
                ]
              },
              "telecom": [
                {
                  "system": "phone",
                  "value": "+33 (237) 998327"
                }
              ],
              "address": {
                "use": "home",
                "type": "both",
                "line": [
                  "534 Erewhon St"
                ],
                "city": "PleasantVille",
                "district": "Rainbow",
                "state": "Vic",
                "postalCode": "3999",
                "period": {
                  "start": "1974-12-25"
                }
              },
              "gender": "female",
              "period": {
                "start": "2012"
              }
            }
          ],
          "managingOrganization": {
            "reference": "Organization/1"
          }
        }
        </code>
      </pre>

      <a name="get-coverage"></a>
      <h3 id="section-heading-h3">Get all Coverage Information for an Individual Beneficiary</h3>

      <pre><code>/protected/bluebutton/fhir/v1/Coverage/?patient=[fhir_id][_format=json | _format=xml]</code></pre>

      <p>The above URL returns the synthetic Beneficiary's coverage information as an <a href="http://hl7.org/fhir/explanationofbenefit.html">ExplanationOfBenefit FHIR Resource</a>.</p>

      <pre><code>curl --header "Authorization: Bearer AUTHORIZATION TOKEN"  "https://dev.bluebutton.cms.fhirservice.net/protected/bluebutton/fhir/v1/Coverage/?patient=20140000008325"</code></pre>

      <pre><code>
        {
          "resourceType": "Coverage",
          "id": "9876B1",
          "text": {
            "status": "generated",
            "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">A human-readable rendering of the coverage</div>"
          },
          "identifier": [
            {
              "system": "http://benefitsinc.com/certificate",
              "value": "12345"
            }
          ],
          "status": "active",
          "type": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/v3/ActCode",
                "code": "EHCPOL",
                "display": "extended healthcare"
              }
            ]
          },
          "policyHolder": {
            "reference": "http://benefitsinc.com/FHIR/Organization/CBI35"
          },
          "subscriber": {
            "reference": "Patient/4"
          },
          "Beneficiary": {
            "reference": "Patient/4"
          },
          "relationship": {
            "coding": [
              {
                "code": "self"
              }
            ]
          },
          "period": {
            "start": "2011-05-23",
            "end": "2012-05-23"
          },
          "payor": [
            {
              "reference": "Organization/2"
            }
          ],
          "grouping": {
            "group": "CBI35",
            "groupDisplay": "Corporate Baker's Inc. Local #35",
            "subGroup": "123",
            "subGroupDisplay": "Trainee Part-time Benefits",
            "plan": "B37FC",
            "planDisplay": "Full Coverage: Medical, Dental, Pharmacy, Vision, EHC",
            "subPlan": "P7",
            "subPlanDisplay": "Includes afterlife benefits",
            "class": "SILVER",
            "classDisplay": "Silver: Family Plan spouse only",
            "subClass": "Tier2",
            "subClassDisplay": "Low deductable, max $20 copay"
          },
          "dependent": "0",
          "sequence": "9"
        }</code></pre>

      <a name="support"></a>
      <h2 id="section-heading-h2">Support</h2>
      <p> The CMS Blue Button API Google Group is where you can interact with other Developers to ask questions, find answers,
          leave feedback, and share experiences using the CMS Blue Button API.</p>
      <p><a href="https://groups.google.com/forum/#!forum/Developer-group-for-cms-blue-button-api">Visit the Google Group</a></p>

  </main>

  <footer class="usa-footer usa-footer-medium" role="contentinfo">
    <div class="usa-grid usa-footer-return-to-top">
      <a href="#">Return to top</a>
    </div>
  </footer>

  <script src="js/uswds.min.js"></script>

  </body>
</html>
